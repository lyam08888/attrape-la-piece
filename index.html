<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Attrape la pi√®ce ! Ultimate</title>
  <meta name="viewport" content="width=900, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body { background:#23272e; color:#fff; font-family:'Press Start 2P',monospace; margin:0; }
    #mainMenu { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height:100vh;}
    #menuBox { background:#191e23; border:2px solid #ffb700; border-radius:18px; padding:32px 44px; box-shadow:0 6px 32px #000c; margin-top:30px; min-width:360px;}
    h1 { color:#ffb700; margin: 8px 0 20px 0; text-align:center; text-shadow:2px 2px 0 #222; }
    #modes button, #shop button, #startButton { font-family: inherit; margin: 6px 8px; padding: 11px 36px; border-radius: 10px; border: none; background: #ffb700; color: #111; cursor: pointer; font-size: 1.1rem;}
    #modes button.selected { background: #111; color: #ffb700; border:2px solid #ffb700;}
    #shop { margin-top:18px; text-align:center;}
    #shop button { min-width:170px; }
    #shopMsg { margin-top:6px; color:#f44; font-size:1rem; min-height:18px;}
    #startButton {margin-top:26px; font-size:1.3rem;}
    #skins {margin-top:18px;}
    #skins img { width:38px; height:38px; margin:0 6px; border-radius:7px; border:3px solid #333; cursor:pointer; transition:0.2s;}
    #skins img.selected { border:3px solid #ffb700; transform:scale(1.15);}
    #pixelCanvas { margin: 24px auto 0 auto; display: none; border: 3px solid #ffb700; border-radius: 12px; background: #191e23; image-rendering: pixelated;}
    #scoreBoard, #gameOver { margin:12px auto; background:#191e23; border:2px solid #444; border-radius:8px; padding:10px 18px; min-width:220px; text-align:center; display:none;}
    #lives { color: #f44; font-size:1.1rem;}
    #xpbar { background: #222; border-radius: 8px; overflow: hidden; margin: 8px 0 0 0;}
    #xpbar-inner { background: #4af045; height: 16px; width: 0; transition: width .3s;}
    #levelDisplay { color:#fff; background:#282b30; border-radius: 5px; padding:2px 15px; font-size:1rem; margin-top:5px; border:1px solid #424; display:inline-block;}
    @media (max-width: 700px) {
      #menuBox { min-width:0; width:96vw; padding:12vw 0; }
      #pixelCanvas { width:95vw !important; height:95vw !important; max-width:98vw; max-height:98vw;}
    }
  </style>
</head>
<body>
  <div id="mainMenu">
    <div id="menuBox">
      <h1>ATTRAPE LA PI√àCE !</h1>
      <div id="modes">
        <b>Modes‚ÄØ:</b>
        <button class="selected" id="mode_classic" onclick="selectMode('classic')">Classique</button>
        <button id="mode_endless" onclick="selectMode('endless')">Infini</button>
        <button id="mode_hardcore" onclick="selectMode('hardcore')">Hardcore</button>
        <button id="mode_timed" onclick="selectMode('timed')">Time-Attack</button>
      </div>
      <div id="skins">
        <b>Skin‚ÄØ:</b>
        <img src="assets/player.png" class="selected" id="skin_0" onclick="chooseSkin(0)">
        <img src="assets/skin1.png" id="skin_1" onclick="chooseSkin(1)">
        <img src="assets/skin2.png" id="skin_2" onclick="chooseSkin(2)">
      </div>
      <div id="shop">
        <b>Shop‚ÄØ:</b>
        <button onclick="buyPower('invincible')">Invincible (30 XP)</button>
        <button onclick="buyPower('slow')">Ralentir ennemis (15 XP)</button>
        <div id="shopMsg"></div>
      </div>
      <button id="startButton" disabled>D√©marrer</button>
    </div>
  </div>
  <div id="levelDisplay" style="display:none;">Niveau : <span id="levelNum">1</span></div>
  <div id="scoreBoard">
    <div>Score : <span id="scoreValue">0</span></div>
    <div>üèÜ Meilleur : <span id="highScore">0</span></div>
    <div id="lives">Vies : <span id="lifeCount">3</span></div>
    <div id="xpbar"><div id="xpbar-inner"></div></div>
  </div>
  <div id="gameOver"></div>
  <canvas id="pixelCanvas" width="560" height="560"></canvas>
  <audio id="bgMusic" src="assets/music.mp3" loop preload="auto"></audio>
  <script src="game.js"></script>
</body>
</html>
